<app-header></app-header>
<section class="vh-100">
    <div class="container-fluid ">
        <div class="row ">
            <div class="d-flex justify-content-center  container-box ">

                <div class="card " style="width: 40rem;">
                    <img src="../../../assets/img/Wplay-Logo-blanco.png" class="card-img-top mt-4 mb-4 px-4" alt="..." style="width: 210px; height: 50px;">

                    <div class="card-body">
                        <h5 class="card-title mb-4 text-white text-center">Recuperar contraseña </h5>

                        <form [formGroup]="formRegister" (submit)="submit(formRegister.value)">


                            <div class="row g-2">
                                <div class="col-sm-12 col-md-12">
                                    <div class="form-floating  mb-3 user">
                                        <input formControlName="email" type="email" name="email" class="form-control " id="floatingInput" placeholder="user">
                                        <label for="floatingInput">Correo</label>

                                        <div class="text-warning px-1 col-6 float-start " *ngIf="formRegister.get('email')?.hasError('required')&&formRegister.get('email')?.dirty && formRegister.get('email')?.touched ">
                                            <p>Este campo es obligatorio</p>
                                        </div>

                                    </div>
                                </div>

                                <div class="col-sm-12 col-md-12">
                                    <div class="form-floating mb-3 user">


                                        <input formControlName="clave_recuperacion" type="password" name="clave_recuperacion" class="form-control" id="floatingPassword" placeholder="Password">
                                        <label for="floatingPassword">Contraseña de recuperación</label>


                                        <div class="text-warning px-1 col-6 float-start " *ngIf="formRegister.get('clave')?.hasError('required')&&formRegister.get('clave')?.dirty && formRegister.get('clave')?.touched ">
                                            <p>Este campo es obligatorio</p>
                                        </div>

                                        <div class="text-warning px-1 col-6 float-start " *ngIf="formRegister.get('clave')?.hasError('minlength')">
                                            <p>El campo debe tener minimo 10 caracteres</p>
                                        </div>



                                    </div>
                                </div>
                            </div>

                            <div *ngIf="!isCorrect" class="d-grid gap-2 mt-3 mb-3 login-box">
                                <button [disabled]=" formRegister.invalid" class="btn" type="submit">
                                   Enviar</button>
                            </div>
                        </form>

                        <h5 *ngIf="isCorrect" class="card-title mb-4 mt-4 text-white text-center">Cambie su Contraseña</h5>




                        <form *ngIf="isCorrect" [formGroup]="formPass" (submit)="guardar(formPass.value)">

                            <div class="row g-2">

                                <div class="col-sm-6 col-md-6">
                                    <div class="form-floating mb-3 user">


                                        <input formControlName="clave" type="password" name="clave" class="form-control" id="floatingPassword" placeholder="Password">
                                        <label for="floatingPassword">Contraseña</label>


                                        <div class="text-warning px-1 col-6 float-start " *ngIf="formPass.get('clave')?.hasError('required')&&formPass.get('clave')?.dirty && formPass.get('clave')?.touched ">
                                            <p>Este campo es obligatorio</p>
                                        </div>

                                        <div class="text-warning px-1 col-6 float-start " *ngIf="formPass.get('clave')?.hasError('minlength')">
                                            <p>El campo debe tener minimo 10 caracteres</p>
                                        </div>

                                        <div class="text-warning px-1 col-6 float-start " *ngIf="formPass.get('clave')?.hasError('pattern')">
                                            <p>Debe tener al menos un número una letra mayuscula y un signo especial</p>
                                        </div>

                                    </div>
                                </div>


                                <div class="col-sm-6 col-md-6">
                                    <div class="form-floating mb-3 user">
                                        <input formControlName="confirmClave" type="password" name="confirmClave" class="form-control" id="floatingPassword" placeholder="Password">
                                        <label for="floatingPassword">Confirmar Contraseña</label>

                                        <div class="text-warning px-1 col-6 float-start " *ngIf="formPass.get('confirmClave')?.hasError('required')&&formRegister.get('confirmClave')?.dirty && formPass.get('confirmClave')?.touched ">
                                            <p>Este campo es obligatorio</p>
                                        </div>

                                        <div class="text-warning px-1 col-6 float-start " *ngIf="formPass.get('confirmClave')?.hasError('minlength')">
                                            <p>El campo debe tener minimo 10 caracteres</p>
                                        </div>
                                        <div class="text-warning px-1 col-6 float-start " *ngIf="formPass.get('confirmClave')?.hasError('pattern')">
                                            <p>debe tener al menos un número una letra mayuscula y un signo especial</p>
                                        </div>

                                        <div class="text-warning px-1 col-6 float-start " *ngIf="formPass.get('confirmClave')?.hasError('mustMatch')">
                                            <p>La clave no es igual</p>
                                        </div>

                                    </div>
                                </div>


                            </div>



                            <div *ngIf="isCorrect" class="d-grid gap-2 mt-3 mb-3 login-box">
                                <button [disabled]=" formPass.invalid" class="btn" type="submit">
                                   Guardar</button>
                            </div>



                        </form>

                        <p class="card-text text-center text-white mt-5 ">¿Ya tiene cuenta?
                            <a href="">
                                <p class="card-text ">Iniciar sesión</p>
                            </a>
                        </p>


                    </div>
                </div>

            </div>
        </div>
    </div>
</section>